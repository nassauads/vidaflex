<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="imgs/logo.png" type="image/x-icon" sizes="64x64">
    <title>VidaFlex</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Adicionei o Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
</head>
<body>
    <div class="card-container">
        <h1 class="VidaFlex" style="display: flex; align-items: center;">
            <img class="logo" src="imgs/logo.png" alt="logo" style="margin-left: 2px;">
            VidaFlex
            <!-- Bot√£o de login que s√≥ deve aparecer quando o usu√°rio n√£o estiver logado -->
           <button class="login-button" id="login-button" onclick="redirecionarParaLogin()">
           <i class="fas fa-sign-in-alt"></i> <!-- √çcone de login -->
           <span class="tooltip-text">Fazer Login</span> <!-- Tooltip -->
           </button>
        </h1>      
        <hr>  
        
        <!-- Container para sauda√ß√£o e bot√£o de logout, exibido apenas para usu√°rios logados -->
     <div class="welcome-container" style="display: none;">
        <p id="boas-vindas">Ol√°, Usu√°rio!</p> <!-- Texto de boas-vindas -->
        <button id="logout-button">
           <i class="fas fa-sign-out-alt"></i> Sair
        </button> <!-- Bot√£o de logout -->
     </div>


        <!-- Card 1: Mobilidade Boa -->
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front" id="card-boo">
                    <h2>Mobilidade Boa</h2>
                    <button class="flip-button">Clique-me</button>
                </div>
                <div class="flip-card-back">
                    <button class="close-button">X</button>
                    <h2>Mobilidade Boa</h2>
                    <p>Exerc√≠cios para manter a sua boa mobilidade e fortalecer seu corpo.</p>
                    <button class="iniciar" onclick="redirecionar('mobilidade1.html')">Iniciar Exerc√≠cios</button>
                </div>
            </div>
        </div>

        <!-- Card 2: Mobilidade M√©dia -->
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front" id="card-media">
                    <h2>Mobilidade M√©dia</h2>
                    <button class="flip-button">Clique-me</button>
                </div>
                <div class="flip-card-back">
                    <button class="close-button">X</button>
                    <h2>Mobilidade M√©dia</h2>
                    <p>Exerc√≠cios moderados para melhorar a sua flexibilidade e for√ßa.</p>
                    <button class="iniciar" onclick="redirecionar('mobilidade2.html')">Iniciar Exerc√≠cios</button>
                </div>
            </div>
        </div>

        <!-- Card 3: Mobilidade Cr√≠tica -->
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front" id="card-critica">
                    <h2>Mobilidade Cr√≠tica</h2>
                    <button class="flip-button">Clique-me</button>
                </div>
                <div class="flip-card-back">
                    <button class="close-button">X</button>
                    <h2>Mobilidade Cr√≠tica</h2>
                    <p>Exerc√≠cios leves e adaptados para recuperar sua mobilidade.</p>
                    <button class="iniciar" onclick="redirecionar('mobilidade3.html')">Iniciar Exerc√≠cios</button>
                </div>
            </div>
        </div>
    </div>

<script>
 // Script para buscar o nome do usu√°rio e exibir na p√°gina
 fetch('/usuario')
        .then(response => {
            if (!response.ok) {
                // Se o usu√°rio n√£o estiver autenticado, n√£o exibe a sauda√ß√£o e exibe o bot√£o de login
                document.getElementById('login-button').style.display = 'block';
                return;
            }
            return response.json();
        })
        .then(data => {
            // Exibe o nome do usu√°rio e a sauda√ß√£o se estiver logado
            const boasVindas = document.getElementById('boas-vindas');
            if (data && boasVindas) {
                boasVindas.textContent = `üëã Ol√°, ${data.nome}!`;
                document.querySelector('.welcome-container').style.display = 'flex'; // Exibe a sauda√ß√£o
                document.getElementById('login-button').style.display = 'none'; // Oculta o bot√£o de login
            }
        })
        .catch(error => {
            console.error('Erro ao buscar o nome do usu√°rio:', error);
        });

    // Script para o logout
    document.getElementById('logout-button').addEventListener('click', () => {
        fetch('/logout')
            .then(() => window.location.href = 'login.html')
            .catch(error => console.error('Erro ao deslogar:', error));
    });

    // Fun√ß√£o para redirecionar para a p√°gina de login
    function redirecionarParaLogin() {
        window.location.href = 'login.html';
    }
</script>

    <script src="js/script.js"></script>
</body>
</html>